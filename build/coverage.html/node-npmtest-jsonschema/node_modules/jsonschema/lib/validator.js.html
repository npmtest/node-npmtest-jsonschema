<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jsonschema/node_modules/jsonschema/lib/validator.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jsonschema">npmtest-jsonschema (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jsonschema/node_modules/jsonschema/lib/validator.js</span></h1>
    <h2>
        
        Statements: <span class="metric">20.93% <small>(36 / 172)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 110)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 23)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">21.43% <small>(36 / 168)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jsonschema/node_modules/jsonschema/lib/</a> &#187; validator.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
&nbsp;
var urilib = require('url');
&nbsp;
var attribute = require('./attribute');
var helpers = require('./helpers');
var ValidatorResult = helpers.ValidatorResult;
var SchemaError = helpers.SchemaError;
var SchemaContext = helpers.SchemaContext;
&nbsp;
/**
 * Creates a new Validator object
 * @name Validator
 * @constructor
 */
var Validator = <span class="fstat-no" title="function not covered" >function Validator () {</span>
  // Allow a validator instance to override global custom formats or to have their
  // own custom formats.
<span class="cstat-no" title="statement not covered" >  this.customFormats = Object.create(Validator.prototype.customFormats);</span>
<span class="cstat-no" title="statement not covered" >  this.schemas = {};</span>
<span class="cstat-no" title="statement not covered" >  this.unresolvedRefs = [];</span>
&nbsp;
  // Use Object.create to make this extensible without Validator instances stepping on each other's toes.
<span class="cstat-no" title="statement not covered" >  this.types = Object.create(types);</span>
<span class="cstat-no" title="statement not covered" >  this.attributes = Object.create(attribute.validators);</span>
};
&nbsp;
// Allow formats to be registered globally.
Validator.prototype.customFormats = {};
&nbsp;
// Hint at the presence of a property
Validator.prototype.schemas = null;
Validator.prototype.types = null;
Validator.prototype.attributes = null;
Validator.prototype.unresolvedRefs = null;
&nbsp;
/**
 * Adds a schema with a certain urn to the Validator instance.
 * @param schema
 * @param urn
 * @return {Object}
 */
Validator.prototype.addSchema = <span class="fstat-no" title="function not covered" >function addSchema (schema, uri) {</span>
<span class="cstat-no" title="statement not covered" >  if (!schema) {</span>
<span class="cstat-no" title="statement not covered" >    return null;</span>
  }
<span class="cstat-no" title="statement not covered" >  var ourUri = uri || schema.id;</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchema(ourUri, schema);</span>
<span class="cstat-no" title="statement not covered" >  if (ourUri) {</span>
<span class="cstat-no" title="statement not covered" >    this.schemas[ourUri] = schema;</span>
  }
<span class="cstat-no" title="statement not covered" >  return this.schemas[ourUri];</span>
};
&nbsp;
Validator.prototype.addSubSchema = <span class="fstat-no" title="function not covered" >function addSubSchema(baseuri, schema) {</span>
<span class="cstat-no" title="statement not covered" >  if(!schema || typeof schema!='object') <span class="cstat-no" title="statement not covered" >return;</span></span>
  // Mark all referenced schemas so we can tell later which schemas are referred to, but never defined
<span class="cstat-no" title="statement not covered" >  if(schema.$ref){</span>
<span class="cstat-no" title="statement not covered" >    var resolvedUri = urilib.resolve(baseuri, schema.$ref);</span>
    // Only mark unknown schemas as unresolved
<span class="cstat-no" title="statement not covered" >    if (this.schemas[resolvedUri] === undefined) {</span>
<span class="cstat-no" title="statement not covered" >      this.schemas[resolvedUri] = null;</span>
<span class="cstat-no" title="statement not covered" >      this.unresolvedRefs.push(resolvedUri);</span>
    }
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  var ourUri = schema.id &amp;&amp; urilib.resolve(baseuri, schema.id);</span>
<span class="cstat-no" title="statement not covered" >  var ourBase = ourUri || baseuri;</span>
<span class="cstat-no" title="statement not covered" >  if (ourUri) {</span>
<span class="cstat-no" title="statement not covered" >    if(this.schemas[ourUri]){</span>
<span class="cstat-no" title="statement not covered" >      if(!helpers.deepCompareStrict(this.schemas[ourUri], schema)){</span>
<span class="cstat-no" title="statement not covered" >        throw new Error('Schema &lt;'+schema+'&gt; already exists with different definition');</span>
      }
<span class="cstat-no" title="statement not covered" >      return this.schemas[ourUri];</span>
    }
<span class="cstat-no" title="statement not covered" >    this.schemas[ourUri] = schema;</span>
<span class="cstat-no" title="statement not covered" >    var documentUri = ourUri.replace(/^([^#]*)#$/, '$1');</span>
<span class="cstat-no" title="statement not covered" >    this.schemas[documentUri] = schema;</span>
  }
<span class="cstat-no" title="statement not covered" >  this.addSubSchemaArray(ourBase, ((schema.items instanceof Array)?schema.items:[schema.items]));</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchemaArray(ourBase, ((schema.extends instanceof Array)?schema.extends:[schema.extends]));</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchema(ourBase, schema.additionalItems);</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchemaObject(ourBase, schema.properties);</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchema(ourBase, schema.additionalProperties);</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchemaObject(ourBase, schema.definitions);</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchemaObject(ourBase, schema.patternProperties);</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchemaObject(ourBase, schema.dependencies);</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchemaArray(ourBase, schema.disallow);</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchemaArray(ourBase, schema.allOf);</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchemaArray(ourBase, schema.anyOf);</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchemaArray(ourBase, schema.oneOf);</span>
<span class="cstat-no" title="statement not covered" >  this.addSubSchema(ourBase, schema.not);</span>
<span class="cstat-no" title="statement not covered" >  return this.schemas[ourUri];</span>
};
&nbsp;
Validator.prototype.addSubSchemaArray = <span class="fstat-no" title="function not covered" >function addSubSchemaArray(baseuri, schemas) {</span>
<span class="cstat-no" title="statement not covered" >  if(!(schemas instanceof Array)) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  for(var i=0; i&lt;schemas.length; i++){</span>
<span class="cstat-no" title="statement not covered" >    this.addSubSchema(baseuri, schemas[i]);</span>
  }
};
&nbsp;
Validator.prototype.addSubSchemaObject = <span class="fstat-no" title="function not covered" >function addSubSchemaArray(baseuri, schemas) {</span>
<span class="cstat-no" title="statement not covered" >  if(!schemas || typeof schemas!='object') <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  for(var p in schemas){</span>
<span class="cstat-no" title="statement not covered" >    this.addSubSchema(baseuri, schemas[p]);</span>
  }
};
&nbsp;
&nbsp;
&nbsp;
/**
 * Sets all the schemas of the Validator instance.
 * @param schemas
 */
Validator.prototype.setSchemas = <span class="fstat-no" title="function not covered" >function setSchemas (schemas) {</span>
<span class="cstat-no" title="statement not covered" >  this.schemas = schemas;</span>
};
&nbsp;
/**
 * Returns the schema of a certain urn
 * @param urn
 */
Validator.prototype.getSchema = <span class="fstat-no" title="function not covered" >function getSchema (urn) {</span>
<span class="cstat-no" title="statement not covered" >  return this.schemas[urn];</span>
};
&nbsp;
/**
 * Validates instance against the provided schema
 * @param instance
 * @param schema
 * @param [options]
 * @param [ctx]
 * @return {Array}
 */
Validator.prototype.validate = <span class="fstat-no" title="function not covered" >function validate (instance, schema, options, ctx) {</span>
<span class="cstat-no" title="statement not covered" >  if (!options) {</span>
<span class="cstat-no" title="statement not covered" >    options = {};</span>
  }
<span class="cstat-no" title="statement not covered" >  var propertyName = options.propertyName || 'instance';</span>
  // This will work so long as the function at uri.resolve() will resolve a relative URI to a relative URI
<span class="cstat-no" title="statement not covered" >  var base = urilib.resolve(options.base||'/', schema.id||'');</span>
<span class="cstat-no" title="statement not covered" >  if(!ctx){</span>
<span class="cstat-no" title="statement not covered" >    ctx = new SchemaContext(schema, options, propertyName, base, Object.create(this.schemas));</span>
<span class="cstat-no" title="statement not covered" >    if (!ctx.schemas[base]) {</span>
<span class="cstat-no" title="statement not covered" >      ctx.schemas[base] = schema;</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  if (schema) {</span>
<span class="cstat-no" title="statement not covered" >    var result = this.validateSchema(instance, schema, options, ctx);</span>
<span class="cstat-no" title="statement not covered" >    if (!result) {</span>
<span class="cstat-no" title="statement not covered" >      throw new Error('Result undefined');</span>
    }
<span class="cstat-no" title="statement not covered" >    return result;</span>
  }
<span class="cstat-no" title="statement not covered" >  throw new SchemaError('no schema specified', schema);</span>
};
&nbsp;
/**
* @param Object schema
* @return mixed schema uri or false
*/
<span class="fstat-no" title="function not covered" >function shouldResolve(schema) {</span>
<span class="cstat-no" title="statement not covered" >  var ref = (typeof schema === 'string') ? schema : schema.$ref;</span>
<span class="cstat-no" title="statement not covered" >  if (typeof ref=='string') <span class="cstat-no" title="statement not covered" >return ref;</span></span>
<span class="cstat-no" title="statement not covered" >  return false;</span>
}
&nbsp;
/**
 * Validates an instance against the schema (the actual work horse)
 * @param instance
 * @param schema
 * @param options
 * @param ctx
 * @private
 * @return {ValidatorResult}
 */
Validator.prototype.validateSchema = <span class="fstat-no" title="function not covered" >function validateSchema (instance, schema, options, ctx) {</span>
<span class="cstat-no" title="statement not covered" >  var result = new ValidatorResult(instance, schema, options, ctx);</span>
<span class="cstat-no" title="statement not covered" >  if (!schema) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error("schema is undefined");</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (schema['extends']) {</span>
<span class="cstat-no" title="statement not covered" >    if (schema['extends'] instanceof Array) {</span>
<span class="cstat-no" title="statement not covered" >      var schemaobj = {schema: schema, ctx: ctx};</span>
<span class="cstat-no" title="statement not covered" >      schema['extends'].forEach(this.schemaTraverser.bind(this, schemaobj));</span>
<span class="cstat-no" title="statement not covered" >      schema = schemaobj.schema;</span>
<span class="cstat-no" title="statement not covered" >      schemaobj.schema = null;</span>
<span class="cstat-no" title="statement not covered" >      schemaobj.ctx = null;</span>
<span class="cstat-no" title="statement not covered" >      schemaobj = null;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      schema = helpers.deepMerge(schema, this.superResolve(schema['extends'], ctx));</span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var switchSchema;</span>
<span class="cstat-no" title="statement not covered" >  if (switchSchema = shouldResolve(schema)) {</span>
<span class="cstat-no" title="statement not covered" >    var resolved = this.resolve(schema, switchSchema, ctx);</span>
<span class="cstat-no" title="statement not covered" >    var subctx = new SchemaContext(resolved.subschema, options, ctx.propertyPath, resolved.switchSchema, ctx.schemas);</span>
<span class="cstat-no" title="statement not covered" >    return this.validateSchema(instance, resolved.subschema, options, subctx);</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var skipAttributes = options &amp;&amp; options.skipAttributes || [];</span>
  // Validate each schema attribute against the instance
<span class="cstat-no" title="statement not covered" >  for (var key in schema) {</span>
<span class="cstat-no" title="statement not covered" >    if (!attribute.ignoreProperties[key] &amp;&amp; skipAttributes.indexOf(key) &lt; 0) {</span>
<span class="cstat-no" title="statement not covered" >      var validatorErr = null;</span>
<span class="cstat-no" title="statement not covered" >      var validator = this.attributes[key];</span>
<span class="cstat-no" title="statement not covered" >      if (validator) {</span>
<span class="cstat-no" title="statement not covered" >        validatorErr = validator.call(this, instance, schema, options, ctx);</span>
      } else <span class="cstat-no" title="statement not covered" >if (options.allowUnknownAttributes === false) {</span>
        // This represents an error with the schema itself, not an invalid instance
<span class="cstat-no" title="statement not covered" >        throw new SchemaError("Unsupported attribute: " + key, schema);</span>
      }
<span class="cstat-no" title="statement not covered" >      if (validatorErr) {</span>
<span class="cstat-no" title="statement not covered" >        result.importErrors(validatorErr);</span>
      }
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof options.rewrite == 'function') {</span>
<span class="cstat-no" title="statement not covered" >    var value = options.rewrite.call(this, instance, schema, options, ctx);</span>
<span class="cstat-no" title="statement not covered" >    result.instance = value;</span>
  }
<span class="cstat-no" title="statement not covered" >  return result;</span>
};
&nbsp;
/**
* @private
* @param Object schema
* @param SchemaContext ctx
* @returns Object schema or resolved schema
*/
Validator.prototype.schemaTraverser = <span class="fstat-no" title="function not covered" >function schemaTraverser (schemaobj, s) {</span>
<span class="cstat-no" title="statement not covered" >  schemaobj.schema = helpers.deepMerge(schemaobj.schema, this.superResolve(s, schemaobj.ctx));</span>
}
&nbsp;
/**
* @private
* @param Object schema
* @param SchemaContext ctx
* @returns Object schema or resolved schema
*/
Validator.prototype.superResolve = <span class="fstat-no" title="function not covered" >function superResolve (schema, ctx) {</span>
<span class="cstat-no" title="statement not covered" >  var ref;</span>
<span class="cstat-no" title="statement not covered" >  if(ref = shouldResolve(schema)) {</span>
<span class="cstat-no" title="statement not covered" >    return this.resolve(schema, ref, ctx).subschema;</span>
  }
<span class="cstat-no" title="statement not covered" >  return schema;</span>
}
&nbsp;
/**
* @private
* @param Object schema
* @param Object switchSchema
* @param SchemaContext ctx
* @return Object resolved schemas {subschema:String, switchSchema: String}
* @thorws SchemaError
*/
Validator.prototype.resolve = <span class="fstat-no" title="function not covered" >function resolve (schema, switchSchema, ctx) {</span>
<span class="cstat-no" title="statement not covered" >  switchSchema = ctx.resolve(switchSchema);</span>
  // First see if the schema exists under the provided URI
<span class="cstat-no" title="statement not covered" >  if (ctx.schemas[switchSchema]) {</span>
<span class="cstat-no" title="statement not covered" >    return {subschema: ctx.schemas[switchSchema], switchSchema: switchSchema};</span>
  }
  // Else try walking the property pointer
<span class="cstat-no" title="statement not covered" >  var parsed = urilib.parse(switchSchema);</span>
<span class="cstat-no" title="statement not covered" >  var fragment = parsed &amp;&amp; parsed.hash;</span>
<span class="cstat-no" title="statement not covered" >  var document = fragment &amp;&amp; fragment.length &amp;&amp; switchSchema.substr(0, switchSchema.length - fragment.length);</span>
<span class="cstat-no" title="statement not covered" >  if (!document || !ctx.schemas[document]) {</span>
<span class="cstat-no" title="statement not covered" >    throw new SchemaError("no such schema &lt;" + switchSchema + "&gt;", schema);</span>
  }
<span class="cstat-no" title="statement not covered" >  var subschema = helpers.objectGetPath(ctx.schemas[document], fragment.substr(1));</span>
<span class="cstat-no" title="statement not covered" >  if(subschema===undefined){</span>
<span class="cstat-no" title="statement not covered" >    throw new SchemaError("no such schema " + fragment + " located in &lt;" + document + "&gt;", schema);</span>
  }
<span class="cstat-no" title="statement not covered" >  return {subschema: subschema, switchSchema: switchSchema};</span>
};
&nbsp;
/**
 * Tests whether the instance if of a certain type.
 * @private
 * @param instance
 * @param schema
 * @param options
 * @param ctx
 * @param type
 * @return {boolean}
 */
Validator.prototype.testType = <span class="fstat-no" title="function not covered" >function validateType (instance, schema, options, ctx, type) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof this.types[type] == 'function') {</span>
<span class="cstat-no" title="statement not covered" >    return this.types[type].call(this, instance);</span>
  }
<span class="cstat-no" title="statement not covered" >  if (type &amp;&amp; typeof type == 'object') {</span>
<span class="cstat-no" title="statement not covered" >    var res = this.validateSchema(instance, type, options, ctx);</span>
<span class="cstat-no" title="statement not covered" >    return res === undefined || !(res &amp;&amp; res.errors.length);</span>
  }
  // Undefined or properties not on the list are acceptable, same as not being defined
<span class="cstat-no" title="statement not covered" >  return true;</span>
};
&nbsp;
var types = Validator.prototype.types = {};
types.string = <span class="fstat-no" title="function not covered" >function testString (instance) {</span>
<span class="cstat-no" title="statement not covered" >  return typeof instance == 'string';</span>
};
types.number = <span class="fstat-no" title="function not covered" >function testNumber (instance) {</span>
  // isFinite returns false for NaN, Infinity, and -Infinity
<span class="cstat-no" title="statement not covered" >  return typeof instance == 'number' &amp;&amp; isFinite(instance);</span>
};
types.integer = <span class="fstat-no" title="function not covered" >function testInteger (instance) {</span>
<span class="cstat-no" title="statement not covered" >  return (typeof instance == 'number') &amp;&amp; instance % 1 === 0;</span>
};
types.boolean = <span class="fstat-no" title="function not covered" >function testBoolean (instance) {</span>
<span class="cstat-no" title="statement not covered" >  return typeof instance == 'boolean';</span>
};
types.array = <span class="fstat-no" title="function not covered" >function testArray (instance) {</span>
<span class="cstat-no" title="statement not covered" >  return instance instanceof Array;</span>
};
types['null'] = <span class="fstat-no" title="function not covered" >function testNull (instance) {</span>
<span class="cstat-no" title="statement not covered" >  return instance === null;</span>
};
types.date = <span class="fstat-no" title="function not covered" >function testDate (instance) {</span>
<span class="cstat-no" title="statement not covered" >  return instance instanceof Date;</span>
};
types.any = <span class="fstat-no" title="function not covered" >function testAny (instance) {</span>
<span class="cstat-no" title="statement not covered" >  return true;</span>
};
types.object = <span class="fstat-no" title="function not covered" >function testObject (instance) {</span>
  // TODO: fix this - see #15
<span class="cstat-no" title="statement not covered" >  return instance &amp;&amp; (typeof instance) === 'object' &amp;&amp; !(instance instanceof Array) &amp;&amp; !(instance instanceof Date);</span>
};
&nbsp;
module.exports = Validator;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 06:00:24 GMT+0000 (UTC)</div>
</div>
</body>
</html>
